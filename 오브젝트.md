# 들어가며

## 프로그래밍 패러다임

패러다임이란 패턴, 모델, 전형적인 예라고 한다.

프로그래밍 패러다임은 특정 시대의 어느 성숙한 개발자 공동체에 의해 수용된 프로그래밍 방법과 문제 해결 방법, 프로그래밍 스타일이라고 할 수 있다.

각 프로그래밍 언어가 제공하는 특징과 프로그래밍 스타일은 해당 언어가 채택하는 프로그래밍 패러다임에 따라 달라진다.

C언어는 절차형 패러다임, 자바는 객체지향 패러다임, 리스프는 함수형 패러다임, 프롤로그는 논리형 패러다임을 수용한 각 대표 언어이다.

따라서 프로그래밍 언어와 프로그래밍 패러다임을 분리해서 설명할 수가 없다.

코드없이 개념적으로 특정 프로그래밍 패러다임을 설명하는 것은 어렵다.

두 패러다임은 함께 존재할 수가 없다.

그러나 프로그래밍 패러다임은 두 가지가 공존이 가능하다.

대표적으로 C++, 스칼라가 있다.

객체지향이 적합하지 않는 상황에서는 언제라도 다른 패러다임을 적용할 수 있는 시야를 기르고 지식을 갈고 닦아야 한다.

# 1. 객체, 설계

설계에 관해 설명할 때, 가장 유용한 도구는 이론으로 덕지덕지 치장된 개념과 용어가 아니라 '코드' 그 자체다.

## 01. 티켓 판매 애플리케이션 구현하기

추첨을 통해 선정된 관람객에게 공연을 무료로 관람할 수 있는 초대장을 발송

이벤트에 당첨된 관람객과 그렇지 못한 관람객은 다른 방식으로 입장.

이벤트에 당첨된 관람객은 초대장으로 티켓으로 교환환 후에 입장할 수 있다.

이벤트에 당첨되지 않은 관람객은 티켓을 구매해야 한다.

이벤트 당첨 여부를 확인하고 당첨자가 아니면 티켓을 판매한 후에 입장시킨다.

 * 초대장 클래스

```java
public class Invitation {
    private LocalDateTime when;
}
```

* 티켓 클래스

```java
public class Ticket {
    private Long fee;

    public Long getFee() {
        return fee;
    }
}
```

관람객은 초대장 혹은 티켓을 가질 것이다. 그리고 티켓을 구매하기 위한 돈을 가진다.

이벤트에 당첨된 관람객의 가방 안에는 현금과 초대장이 들어있지만 이벤트에 당첨되지 않은 관람객의 가방안에는 초대장이 없다.

따라서 Bag 인스턴스의 상태는 현금과 초대장을 함께 보관하거나 초대장없이 현금만 보관하는 두 가지 중 하나일 것이다.

Bag의 인스턴스를 생성하는 시점에 이 제약을 강제할 수 있도록 생성자도 추가한다.

* 관람객이 들고 있는 가방 클래스

```java
public class Bag {
    
    private Long amount;
    private Invitation invitation;
    private Ticket ticket;

    public Bag(long amount) {
        this(null, amount);
    }
    
    public Bag(Invitation invitation, long amount) {
        this.invitation = invitation;
        this.amount = amount;
    }
    
    public boolean hasInvitation() {
        return invitation != null;
    }
    
    public boolean hasTicket() {
        return ticket != null;
    }
    
    public void setTicket(Ticket ticket) {
        this.ticket = ticket;
    }
    
    public void minusAmount(Long amount) {
        this.amount -= amount;
    }
    
    public void plusAmount(Long amount) {
        this.amount += amount;
    }
}
```

* 관람객 클래스

```java
public class Audience {
    
    private Bag bag;
    
    public Audience(Bag bag) {
        this.bag = bag;
    }
    
    public Bag getBag() {
        return bag;
    }
}
```

매표소는 관람객에게 판매할 티켓과 판매 금액을 가진다.

```java
public class TicketOffice {

    private Long amount;
    private List<Ticket> tickets = new ArrayList<Ticket>();
    
    public TicketOffice(Long amount, Ticket... tickets) {
        this.amount = amount;
        this.tickets.addAll(Arrays.asList(tickets));
    }
    
    public Ticket getTicket() {
        return tickets.removeFirst();
    }
    
    public void minusAmount(Long amount) {
        this.amount -= amount;
    }
    
    public void plusAmount(Long amount) {
        this.amount += amount;
    }
}
```












































## 02. 무엇이 문제인가
